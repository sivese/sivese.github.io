---
layout: post
title: "Pro Linux High Availability Clustering"
date: 2024-04-06
categories: Waste 
tag: [ Open Source, Linux, Clustering ]
---

{% assign img_path = site.image_path | append: "/waste/pro-linux-high-availability-clustering" %}

![cover]({{ img_path }}/book_cover.jpg){: width="360" height="500" }

## Publisher: Apress

## Author: Sander van Vugt

## Date: July 2014

### Introduction

출판의 경향은 어느정도 유행성을 따라가기 마련인데, 이 책 또한 그 유행을 따라 출판한 것으로 보인다. 2014년 정도면 유행이 식어가던 시기이긴 한데, 이 당시엔 빅 데이터 및 클라우드가 각광받던 시기였다. 그래서 빅 데이터처리와 클라우드 컴퓨팅이 언론에 자주 노출되었고, 개발 업계도 그런 쪽으로 몰리는 추세였다.

클러스터링 자체가 곧 빅 데이터 처리와 클라우드 컴퓨팅은 아니다. 클러스터링 자체는 노드들을 묶음으로 관리하는 것 자체를 의미하며, 이는 다른 분야에도 얼마든지 적용 할 수 있는 개념이다. 다만, 이 기술이 빅 데이터와 클라우드에 있어서 핵심적인 기술 요소인 것이다. 그래서 이 책이 그런 유행을 쫓아 출간되었다고 추측하는 것이다.

개인적으로는 라즈베리 파이 10개 정도를 클러스터링하는 프로젝트를 진행해보고 싶었지만, 실행에 옮기지는 못했다. 지금 와서는 클라우드 및 클러스터링에 대해서 관심도 상당히 떨어져서 그럴 마음도 없고, 할 시간도 없다. 그래서 너무 무성의하지 않게 이 책의 내용을 다뤄볼 심산이다.

### 클러스터링의 종류

#### 고성능(High Performance)

고성능 클러스터링은 1개의 컴퓨터가 처리하기에 너무나도 큰 작업을 분산해서 수행하는 것이다. 가장 흔한 예시가 일기예보인데, 기상 모델을 계산하는건 매우 큰 연산량이 필요하다고 한다. 이런 작업을 수행 할 때에 여러 컴퓨터에 작업을 분산하는 것이다. 여기서 기억해야 할 중요한 키워드는 1개의 큰 작업을 여러 컴퓨터에 분산하여 작업을 한다는 것이다.

#### 부하 조정(Load Balancing)

이 경우엔 가장 흔한 예시가 웹서버다. 웹 서버는 1초에 수십만 개의 요청을 받는데, 이 정도 규모의 요청은 1개의 컴퓨터가 처리하기엔 매우 큰 규모의 요청이다. 그래서 여러 컴퓨터에 분산을 해줘야한다. 이런 형태의 클러스터링은 요청을 받는 소수의 컴퓨터와 작업을 수행하는 다수의 컴퓨터로 구성이 된다. 언뜻 보면 고성능 클러스터링의 예시와 비슷해 보이는데, 결정적 차이는 무수히 많은 작은 작업들의 분배와 매우 큰 1개의 작업을 분배하는 것이다.

#### 고가용성(High Availability)

가용성이란 단어는 사용이 가능하다는 뜻인데, 고가용성은 언제든지(혹은 대부분) 사용 할 수 있다는 의미이다. 컴퓨터에 문제가 생기거나 혹은 어떤 작업을 수행하는 상태여서 사용을 할 수 없는 경우가 있을 수 있다. 그렇기 때문에 클러스터링을 통해서 언제든지(혹은 클러스터 내 대부분의 노드를) 사용이 가능 하게끔 하겠다는 것이다. 이 책은 전적으로 고가용성 클러스터링을 주제로 다룬다고 명시한다. 

### 공유 저장소(Shared Storage)

클러스터는 본질적으로 서로 다른 컴퓨터를 하나로 묶어서 연산을 수행한다. 그렇기 때문에 전역적으로 적용이 되는 설정 및 데이터 파일이 있을 수 밖에 없는데, 이 때문에 공유 저장소가 필요하다. 설정 및 데이터의 내용이 딱히 변화가 없이 정적이라면 그냥 모든 클러스터의 노드가 가져도 크게 문제는 없다. 하지만 변경이 잦다면 필연적으로 동기화 이슈가 생길 수 밖에 없는데, 이 때문에 공유 저장소가 필요하다.

### Membership Layer

멤버쉽 레이어는 여러 노드들의 통신을 위한 소프트웨어적 계층이다. 이 통신에 대한 정책을 설정하는 계층인데, 클러스터링에 대한 도메인적 지식이 없다면 이해하기 쉽지 않아 보인다. 딱히 관심가는 내용도 아니어서 그냥 넘어갔다.

### 중재자(Peacemaker)

여러 노드들의 클러스터링과 중재자. 이 이름만 들어도 무언가 떠오르지 않는가? 그렇다 노드들의 관리자적인 역할을 하는 소프트웨어다. 리소스 관리나 장애 복구의 역할을 한다. 이 책에서는 이것에 대한 학술적 설명보다는 관리자(administrator)의 입장에서 어떻게 관리 할 것인지 위주로 다룬다.

### Conclusion

인프라 엔지니어라면 한번 쯤 읽어볼만한 책이 아닐까 싶다. 클러스터링에 대한 이론적인 이야기보다는 관리자로서 알아야 할 설정들 위주로 다루고 있다. 그냥 이런 책이었구나 정도로 읽고 넘어간다. 이로서 오픈소스 시리즈 책 1개를 정리한다.